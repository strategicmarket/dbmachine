

SERVERLESS FRAMEWORK

https://www.netlify.com/blog/2016/10/13/serverless-jam---a-serverless-framework-tutorial-part-2/

https://serverless.com/framework/

https://github.com/serverless/serverless#quick-start

============THIS SITE IS WHERE YOU START =============

https://github.com/serverless/serverless-openwhisk


-----------------------

installation notes ---------------

1. run for open-whisk plug-in for serverless
npm install -g serverless-openwhisk

-----------------------------

2. set up openwhisk credentials on my machine   --- or can pass via ENV Variables

https://serverless.com/framework/docs/providers/openwhisk/guide/credentials/
wsk property set --apihost openwhisk.ng.bluemix.net --auth XXX:YYY
wsk property set --apihost PLATFORM_API_HOST --auth USER_AUTH_KEY

env ---
OW_APIHOST - Platform endpoint, e.g. openwhisk.ng.bluemix.net
OW_AUTH - Authentication key, e.g. xxxxxx:yyyyy

notice that in YML can use ${env:OW_ACCESS_KEY} to insert environment variables into yaml file

----------------------------------

2.1 set up aws credentials on my machine using serverless
serverless config credentials --provider aws --key 1234 --secret 5678 --profile custom-profile

by executing this command it loads a custom-profile in the users/patrick/.aws/credentials file
I named the custom profile [serverless-admin] to provide administrative access to serverless
notice that in YML can use ${env:AWS_ACCESS_KEY} to insert environment variables into yaml file

--------------------------------------

2.5 CREATE, UPDATE, DEPLOY, INVOKE
https://serverless.com/framework/docs/providers/aws/cli-reference/deploy/

--------------------------------------

2.7
note in serverless.yml   ... to set nodejs run time version

provider:
  name: openwhisk
  runtime: nodejs:8
  memorySize: 256 # optional, default is 256
  timeout: 5 # optional, default is 60

---------------------------

3. user examples

serverless boilerplate for setting up a 'service' (project)
https://github.com/jthomas/serverless-openwhisk-boilerplate

--------------------
4. Examples on executing from the the CLI for openwhisk and serverless

cd to root project and:

serverless deploy     // instantiates all function in serverless.yml to openwhisk platform

serverless invoke --function functionName     

serverless invoke --function hello_world --path json/data.json

serverless invoke --function left_pad --path json/array.json

create a serverless.yml for a sequence include the functions for the services (see example in template)
serverless deploy    // creates services and sequence on ow

invoke sequence using serverless
serverless invoke --function testsequence --path json/data.json

invoke sequence using ow
wsk action invoke --blocking --result test2-dev-testsequence  --param name "Patrick Howard"

invoke function using ow
wsk action invoke --blocking --result test-dev-left_pad --param lines "[\"and now\", \"for something completely\", \"different\" ]"

------------------------------

advanced topics
message gateway for fb, twilio etc for chatbots
https://github.com/abiglobalhealth/msg-gateway
https://github.com/SC5/serverless-messenger-boilerplate
https://github.com/pmuens/quotebot     -fb
https://github.com/conveyal/trevorbot   -- slackbot

tutorial on creating an email service on aws lamda
https://serverless.com/blog/anatomy-of-a-serverless-app/

spa
https://github.com/FLGMwt/offset-trump

------------------------------

























